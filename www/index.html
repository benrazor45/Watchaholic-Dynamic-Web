<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login & Signup Form</title>
  <link rel="stylesheet" href="css/stylelogin.css" />

  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js%22%3E"></script>


  <script src=" https://www.gstatic.com/firebasejs/7.15.0/firebase-app.js"></script>

  <script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-
database.js"></script>

  <script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-
firestore.js"></script>
  <!-- TODO: Add SDKs for Firebase products that you want to use
https://firebase.google.com/docs/web/setup#available-libraries -->

  <script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-
analytics.js"></script>

  <script src="https://www.gstatic.com/firebasejs/7.14.4/firebase-auth.js"></script>
  <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
      apiKey: "AIzaSyBPsBgxYiQ5uTHREE41LH2Z6EufR0fyyEA",
      authDomain: "watchaholicweb.firebaseapp.com",
      databaseURL: "https://watchaholicweb-default-rtdb.firebaseio.com",
      projectId: "watchaholicweb",
      storageBucket: "watchaholicweb.appspot.com",
      messagingSenderId: "729479701539",
      appId: "1:729479701539:web:b5fc249b7e77ab7e423d96",
      measurementId: "G-2DRRDPZTMF"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();
  </script>


</head>

<body>
  <section class="wrapper">

    <div class="form signup">
      <header>Signup</header>
      <form>
        <input type="email" id="email" name="email" placeholder="Email" required />
        <input type="password" id="password_signup" name="password" placeholder="Password" required />
        <input type="password" id="repeatPassword" name="repeat_password" placeholder="Repeat Password" required />
      </form>
      <button class="btn-signup" value="Sign Up" id="sign-up" onclick="signUp()">SignUp</button>

    </div>

    <div class="form login">
      <header>Login</header>
      <form>
        <input autocomplete="off" placeholder="Email address" type="text" id="email" name="email">
        <input type="password" placeholder="Password" name="password" id="password">
      </form>
      <button style="color: aliceblue;" class="btn-login" value="Sign Up" id="sign-in" onclick="signIn()">SignIn</button>

    </div>

    <script>
      const wrapper = document.querySelector(".wrapper"),
        signupHeader = document.querySelector(".signup header"),
        loginHeader = document.querySelector(".login header");

      loginHeader.addEventListener("click", () => {
        wrapper.classList.add("active");
      });
      signupHeader.addEventListener("click", () => {
        wrapper.classList.remove("active");
      });
    </script>
    <script>
      function signUp() {
        var email = document.getElementById("email").value;
        var password = document.getElementById("password_signup").value;
        var repeat = document.getElementById("repeatPassword").value;
        if (password == repeat) {
          firebase.auth().createUserWithEmailAndPassword(email, password).then(function
            () {
            alert("Registration Success!");
            console.log("login mase");

          }).catch(function (error) {

            var errorMessage = error.message;
            alert(errorMessage);
            console.log(" gak bisa login mase");
          });
        }
        else {
          alert("Password & Repeat Password do not match!");
        }

      }
      function signIn() {
        var email = document.getElementById("email").value;
        var password = document.getElementById("password").value;
        firebase.auth().signInWithEmailAndPassword(email, password).then(function () {

          window.location.href = "admin-dash.html";
        }).catch(function (error) {
          Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: 'Something went wrong!',

          })
        });
      }
    </script>

  </section>
</body>

</html>